<%= render "layouts/shared/search-form"  %>

<div class="middler">

  <div class="plant-card">
    <div class="card">
      <div class="card__face card__face--front">
        <div class="plant-bg" style="background-image: url('<%= cl_image_path @plant.photo.key, height: 480, width: 400, crop: :fill %>')">
        </div>
        <div class="plant-action">
          <div class="buttons-name">
            <h6><%= @plant.name %></h6>
          </div>
          <div class="icons">
            <% if !current_user.plants.include?(@plant) %>
              <% if @mark.present? %>
                <div class="icon-wrapper">
                  <%= link_to mark_path(@mark), data: {turbo_method: :delete }, class: "btn" do %>
                    <i class="fa-solid fa-heart"></i>
                  <% end %>
                </div>
              <% else %>
                <div class="icon-wrapper">
                  <%= simple_form_for [@plant, Mark.new] do |f| %>
                    <%= f.button :button do %>
                      <i class="fa-regular fa-heart"></i>
                    <% end %>
                  <% end %>
                </div>
              <% end %>
            <% end %>
            <i class="fa-regular fa-compass"></i>
            <img class="avatar-bordered-marks" alt="avatar-bordered" src="https://kitt.lewagon.com/placeholder/users/sarahlafer" />
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="backcard backcard--back">
    <div class="flipreverse">
    <h5>description</h5>
        <h3> <%= @plant.name %> </h3>
        <h4> Category: <strong><%= @plant.category %></strong></h4>
        <h5> Lighting: <%= @plant.lighting %> </h5>
        <h5> Watering: <%= @plant.watering %></h5>
        <h5> Temperature: <%= @plant.temperature %></h5>
        <h5> Location: <%= @plant.address %></h5>
    </div>
  </div>
    </div>
  </div>





</div>




<script>
var cards = document.querySelectorAll('.card');
let backcard = document.querySelector('.backcard--back')

console.log(backcard)

cards.forEach((card)=>{
  card.addEventListener( 'click', function() {
    card.classList.toggle('is-flipped');
    setTimeout(() => {
       backcard.classList.toggle("transform")
    }, 300);

  });
});
</script>
